<!doctype html>
<html>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="css/style.css"/>
</head>

<body>
<div class="container" style="text-align: center;">
	<div class="heading">
		<h1>District Manager</h1>
	</div>
	<p class="sub_head" style="text-align: left;">&nbsp;&nbsp;Filter by Age</p>
	<select id="test"style="width:300px"> 
		 <option value="All">All</option>
		 <option value="20">20 and below</option>
		 <option value="21">21 to 39</option>
		 <option value="40">40 and above</option>
   </select>
	 <hr>
	<!--All Start--->
	<div id= "listData"></div>
<!-----Bootstrap script-------->	 
<script src="https://code.jquery.com/jquery-3.2.1.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" ></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="js/mainjs.js"></script>

<script>
	var allArray =[];
	var newArray= [];
	var selectArray =[];
		$(document).ready(function(){
			$.getJSON('https://www.mocky.io/v2/5d73bf3d3300003733081869', function(allArray) {	
				console.log("allArray",allArray);
				for(j=0;j<allArray.length;j++){
					newArray.push(allArray[j]);
				}
	var html ="";
				for(i=0; i<allArray.length;i++){

					html+= "<div class='cards'>";
					html+= "<div class='row'>";
					html+= "<div class='col-md-4'>";
					html+= "<div class='images'>";
					html+= "<img src='img/user.png' width='60%' height='60%' /> </div></div> ";		
					html+= "<div >";
					html+= "<div class='details'> ";
					html+= "<div class= 'lineHeight'> <h6>"+allArray[i].name+"</h6>"; //name
					html+= "<p>Email: "+allArray[i].email+"</p> ";
					html+= "<p>Phone: "+allArray[i].phone+"</p> ";
					html+= "<p>Address: "+allArray[i].address.street+"</p> ";
					html+= "<p>Company: "+allArray[i].company+"</p> ";
					html+= "<p>Age: "+allArray[i].age+"</p></div> </div> </div> </div> </div> ";

				}
					document.getElementById("listData").innerHTML = html;
			});

				$( "#test" ).change(function() {
					console.log( "inside dropdown" );
					var selectedOption = $( "#test" ).val();
					console.log("selectedOption",selectedOption);
					if(selectedOption== "All"){
						selectArray=[];
						console.log("inside All");
						selectArray=newArray;
						console.log("selectArray",selectArray);
	var html ="";
					for(k=0; k<selectArray.length;k++){
						console.log("inside slect array");
						html+= "<div class='cards'>";
						html+= "<div class='row'>";
						html+= "<div class='col-md-4'>";
						html+= "<div class='images'>";
						html+= "<img src='img/user.png' width='60%' height='60%'/> </div></div> ";		
						html+= "<div >";
						html+= "<div class='details'> ";
						html+= "<div class= 'lineHeight'><h6>"+selectArray[k].name+"</h6>";
						html+= "<p>Email: "+selectArray[k].email+"</p> ";
						html+= "<p>Phone: "+selectArray[k].phone+"</p> ";
						html+= "<p>Address: "+selectArray[k].adress+"</p> ";
						html+= "<p>Company: "+selectArray[k].company+"</p> ";
						html+= "<p>Age: "+selectArray[k].age+"</p></div> </div> </div> </div></div> ";
				}
					document.getElementById("listData").innerHTML = html;
			}

					if(selectedOption=="20"){
						selectArray=[];
						console.log("inside 20");
					for(i=0;i<newArray.length;i++){
						if(newArray[i].age<=20){
						selectArray.push(newArray[i]);
					}
				}
					console.log("selectArray",selectArray);
	var html ="";
					for(k=0; k<selectArray.length;k++){
						console.log("inside slect array");
						html+= "<div class='cards'>";
						html+= "<div class='row'>";
						html+= "<div class='col-md-4'>";
						html+= "<div class='images'>";
						html+= "<img src='img/user.png' width='60%' height='60%'/> </div></div> ";		
						html+= "<div >";
						html+= "<div class='details'> ";
						html+= "<div class= 'lineHeight'><h6>"+selectArray[k].name+"</h6>";
						html+= "<p>Email: "+selectArray[k].email+"</p> ";
						html+= "<p>Phone: "+selectArray[k].phone+"</p> ";
						html+= "<p>Address: "+selectArray[k].adress+"</p> ";
						html+= "<p>Company: "+selectArray[k].company+"</p> ";
						html+= "<p>Age: "+selectArray[k].age+"</p></div> </div> </div> </div> </div>";
				}
					document.getElementById("listData").innerHTML = html;
			}
					if(selectedOption=="21"){
						selectArray=[];
						console.log("inside 21");
						for(i=0;i<newArray.length;i++){
							if(newArray[i].age>=21 && newArray[i].age<=39){
								selectArray.push(newArray[i]);
							}
						}
							console.log("selectArray",selectArray);
	var html ="";
						for(k=0; k<selectArray.length;k++){
							console.log("inside slect array");
							html+= "<div class='cards'>";
							html+= "<div class='row'>";
							html+= "<div class='col-md-4'>";
							html+= "<div class='images'>";
							html+= "<img src='img/user.png' width='60%' height='60%'/> </div></div> ";
							html+= "<div >";
							html+= "<div class='details'> ";
							html+= "<div class= 'lineHeight'><h6>"+selectArray[k].name+"</h6>";
							html+= "<p>Email: "+selectArray[k].email+"</p> ";
							html+= "<p>Phone: "+selectArray[k].phone+"</p> ";
							html+= "<p>Address: "+selectArray[k].adress+"</p> ";
							html+= "<p>Company: "+selectArray[k].company+"</p> ";
							html+= "<p>Age: "+selectArray[k].age+"</p></div> </div> </div> </div> </div>";
						}		
					   		document.getElementById("listData").innerHTML = html;
					}
					if(selectedOption=="40"){
						selectArray=[];
						console.log("inside 40");
						for(i=0;i<newArray.length;i++){
							if(newArray[i].age>=40){
								selectArray.push(newArray[i]);
						}
					}
							console.log("selectArray",selectArray);

  	var html ="";
							for(k=0; k<selectArray.length;k++){
								console.log("inside slect array");
								html+= "<div class='cards'>";
								html+= "<div class='row'>";
								html+= "<div class='col-md-4'>";
								html+= "<div class='images'>";
								html+= "<img src='img/user.png' width='60%' height='60%'/> </div></div> ";
								html+= "<div >";
								html+= "<div class='details'> ";
								html+= "<div class= 'lineHeight'><h6>"+selectArray[k].name+"</h6>";
								html+= "<p>Email: "+selectArray[k].email+"</p> ";
								html+= "<p>Phone: "+selectArray[k].phone+"</p> ";
								html+= "<p>Address: "+selectArray[k].adress+"</p> ";
								html+= "<p>Company: "+selectArray[k].company+"</p> ";
								html+= "<p>Age: "+selectArray[k].age+"</p></div> </div> </div> </div></div> ";			  
							}
								document.getElementById("listData").innerHTML = html;
					}
				});	  
		});
			
			
			
			

			
					
				
					
					


</script>
</body>
</html>
